(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2074a785"],{6494:function(s,e,r){"use strict";r.r(e);var t=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticStyle:{"text-align":"center"}},[r("h2",[s._v("你好！"+s._s(s.userInfo.username))]),r("el-form",{ref:"passForm",attrs:{model:s.passForm,"status-icon":"",rules:s.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.oldPassword,callback:function(e){s.$set(s.passForm,"oldPassword",e)},expression:"passForm.oldPassword"}})],1),r("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.newPassword,callback:function(e){s.$set(s.passForm,"newPassword",e)},expression:"passForm.newPassword"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.checkPass,callback:function(e){s.$set(s.passForm,"checkPass",e)},expression:"passForm.checkPass"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return s.submitForm("passForm")}}},[s._v("提交")]),r("el-button",{on:{click:function(e){return s.resetForm("passForm")}}},[s._v("重置")])],1)],1)],1)},o=[],a={name:"Login",data:function(){var s=this,e=function(e,r,t){""===r?t(new Error("请再次输入密码")):r!==s.passForm.newPassword?t(new Error("两次输入密码不一致!")):t()};return{userInfo:{},passForm:{password:"",checkPass:"",currentPass:""},rules:{oldPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],checkPass:[{required:!0,validator:e,trigger:"blur"}],newPassword:[{required:!0,message:"请输入当前密码",trigger:"blur"}]}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var s=this;this.$axios.get("/sys/user/info").then((function(e){s.userInfo=e.data.data}))},submitForm:function(s){var e=this;this.$refs[s].validate((function(r){if(!r)return console.log("error submit!!"),!1;var t=e;e.$axios.post("/sys/user/updatePwd",e.passForm).then((function(r){t.$alert(r.data.message,"提示",{confirmButtonText:"确定",callback:function(r){e.$refs[s].resetFields()}})}))}))},resetForm:function(s){this.$refs[s].resetFields()}}},n=a,i=(r("8b9d"),r("2877")),l=Object(i["a"])(n,t,o,!1,null,"dce25ea2",null);e["default"]=l.exports},"8b9d":function(s,e,r){"use strict";r("fbd2")},fbd2:function(s,e,r){}}]);
//# sourceMappingURL=chunk-2074a785.4f6188d5.js.map